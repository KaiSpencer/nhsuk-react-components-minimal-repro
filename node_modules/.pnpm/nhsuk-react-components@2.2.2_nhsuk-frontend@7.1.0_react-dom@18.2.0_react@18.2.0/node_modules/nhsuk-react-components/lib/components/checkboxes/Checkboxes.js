"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _react = _interopRequireWildcard(require("react"));
var _classnames = _interopRequireDefault(require("classnames"));
var _FormGroup = _interopRequireDefault(require("../../util/FormGroup"));
var _CheckboxContext = _interopRequireDefault(require("./CheckboxContext"));
var _Box = _interopRequireDefault(require("./components/Box"));
var _RandomID = require("../../util/RandomID");
var _excluded = ["children"],
  _excluded2 = ["className", "name", "id", "idPrefix", "error"];
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }
var Checkboxes = /*#__PURE__*/function (_PureComponent) {
  _inherits(Checkboxes, _PureComponent);
  var _super = _createSuper(Checkboxes);
  function Checkboxes(props) {
    var _this;
    _classCallCheck(this, Checkboxes);
    _this = _super.call(this, props);
    _this.boxCount = 0;
    _this.boxReferences = [];
    _this.boxIds = {};
    _this.leaseReference = function () {
      var reference = (0, _RandomID.generateRandomName)();
      if (_this.boxReferences.includes(reference)) {
        return _this.leaseReference();
      }
      _this.boxReferences.push(reference);
      return reference;
    };
    _this.unleaseReference = function (reference) {
      _this.boxReferences = _this.boxReferences.filter(function (ref) {
        return ref !== reference;
      });
    };
    _this.setConditional = function (boxReference, hasConditional) {
      _this.setState(function (state) {
        var currentHasConditional = state.conditionalBoxes.includes(boxReference);
        if (currentHasConditional && hasConditional === false) {
          return _objectSpread(_objectSpread({}, state), {}, {
            conditionalBoxes: state.conditionalBoxes.filter(function (ref) {
              return ref !== boxReference;
            })
          });
        }
        if (!currentHasConditional && hasConditional === true) {
          return _objectSpread(_objectSpread({}, state), {}, {
            conditionalBoxes: [].concat(_toConsumableArray(state.conditionalBoxes), [boxReference])
          });
        }
        return state;
      });
    };
    _this.getBoxId = function (id, reference) {
      var idPrefix = _this.props.idPrefix;
      if (reference in _this.boxIds) {
        return _this.boxIds[reference];
      }
      _this.boxCount += 1;
      _this.boxIds[reference] = "".concat(idPrefix || id, "-").concat(_this.boxCount);
      return _this.boxIds[reference];
    };
    _this.resetBoxIds = function () {
      _this.boxCount = 0;
      _this.boxIds = {};
    };
    _this.state = {
      conditionalBoxes: []
    };
    return _this;
  }
  _createClass(Checkboxes, [{
    key: "render",
    value: function render() {
      var _this2 = this;
      var _this$props = this.props,
        children = _this$props.children,
        rest = _objectWithoutProperties(_this$props, _excluded);
      return /*#__PURE__*/_react["default"].createElement(_FormGroup["default"], _extends({
        inputType: "checkboxes"
      }, rest), function (_ref) {
        var className = _ref.className,
          name = _ref.name,
          id = _ref.id,
          idPrefix = _ref.idPrefix,
          error = _ref.error,
          restRenderProps = _objectWithoutProperties(_ref, _excluded2);
        _this2.resetBoxIds();
        var containsConditional = _this2.state.conditionalBoxes.length > 0;
        var contextValue = {
          name: name,
          getBoxId: function getBoxId(reference) {
            return _this2.getBoxId(id, reference);
          },
          setConditional: _this2.setConditional,
          leaseReference: _this2.leaseReference,
          unleaseReference: _this2.unleaseReference
        };
        return /*#__PURE__*/_react["default"].createElement("div", _extends({
          className: (0, _classnames["default"])('nhsuk-checkboxes', {
            'nhsuk-checkboxes--conditional': containsConditional
          }, className),
          id: id
        }, restRenderProps), /*#__PURE__*/_react["default"].createElement(_CheckboxContext["default"].Provider, {
          value: contextValue
        }, children));
      });
    }
  }]);
  return Checkboxes;
}(_react.PureComponent);
Checkboxes.Box = _Box["default"];
var _default = Checkboxes;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfY2xhc3NuYW1lcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfRm9ybUdyb3VwIiwiX0NoZWNrYm94Q29udGV4dCIsIl9Cb3giLCJfUmFuZG9tSUQiLCJfZXhjbHVkZWQiLCJfZXhjbHVkZWQyIiwib2JqIiwiX19lc01vZHVsZSIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsIm5vZGVJbnRlcm9wIiwiV2Vha01hcCIsImNhY2hlQmFiZWxJbnRlcm9wIiwiY2FjaGVOb2RlSW50ZXJvcCIsIl90eXBlb2YiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsIl9leHRlbmRzIiwiYXNzaWduIiwiYmluZCIsInRhcmdldCIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJhcHBseSIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsImV4Y2x1ZGVkIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzb3VyY2VTeW1ib2xLZXlzIiwiaW5kZXhPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic291cmNlS2V5cyIsImtleXMiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJfaXRlcmFibGVUb0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwiVHlwZUVycm9yIiwibyIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwibiIsInRvU3RyaW5nIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJBcnJheSIsImZyb20iLCJ0ZXN0IiwiaXRlciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiaXNBcnJheSIsImxlbiIsImFycjIiLCJvd25LZXlzIiwib2JqZWN0IiwiZW51bWVyYWJsZU9ubHkiLCJzeW1ib2xzIiwiZmlsdGVyIiwic3ltIiwiZW51bWVyYWJsZSIsInB1c2giLCJfb2JqZWN0U3ByZWFkIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidmFsdWUiLCJfdG9Qcm9wZXJ0eUtleSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiTnVtYmVyIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiX3NldFByb3RvdHlwZU9mIiwicCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX2NyZWF0ZVN1cGVyIiwiRGVyaXZlZCIsImhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiX2NyZWF0ZVN1cGVySW50ZXJuYWwiLCJTdXBlciIsIl9nZXRQcm90b3R5cGVPZiIsInJlc3VsdCIsIk5ld1RhcmdldCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiUmVmZXJlbmNlRXJyb3IiLCJzaGFtIiwiUHJveHkiLCJCb29sZWFuIiwidmFsdWVPZiIsImUiLCJnZXRQcm90b3R5cGVPZiIsIkNoZWNrYm94ZXMiLCJfUHVyZUNvbXBvbmVudCIsIl9zdXBlciIsIl90aGlzIiwiYm94Q291bnQiLCJib3hSZWZlcmVuY2VzIiwiYm94SWRzIiwibGVhc2VSZWZlcmVuY2UiLCJyZWZlcmVuY2UiLCJnZW5lcmF0ZVJhbmRvbU5hbWUiLCJpbmNsdWRlcyIsInVubGVhc2VSZWZlcmVuY2UiLCJyZWYiLCJzZXRDb25kaXRpb25hbCIsImJveFJlZmVyZW5jZSIsImhhc0NvbmRpdGlvbmFsIiwic2V0U3RhdGUiLCJzdGF0ZSIsImN1cnJlbnRIYXNDb25kaXRpb25hbCIsImNvbmRpdGlvbmFsQm94ZXMiLCJjb25jYXQiLCJnZXRCb3hJZCIsImlkIiwiaWRQcmVmaXgiLCJyZXNldEJveElkcyIsInJlbmRlciIsIl90aGlzMiIsIl90aGlzJHByb3BzIiwiY2hpbGRyZW4iLCJyZXN0IiwiY3JlYXRlRWxlbWVudCIsImlucHV0VHlwZSIsIl9yZWYiLCJjbGFzc05hbWUiLCJlcnJvciIsInJlc3RSZW5kZXJQcm9wcyIsImNvbnRhaW5zQ29uZGl0aW9uYWwiLCJjb250ZXh0VmFsdWUiLCJjbGFzc05hbWVzIiwiUHJvdmlkZXIiLCJQdXJlQ29tcG9uZW50IiwiQm94IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvY2hlY2tib3hlcy9DaGVja2JveGVzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgSFRNTFByb3BzLCBQdXJlQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBGb3JtRWxlbWVudFByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbC90eXBlcy9Gb3JtVHlwZXMnO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICcuLi8uLi91dGlsL0Zvcm1Hcm91cCc7XG5pbXBvcnQgQ2hlY2tib3hDb250ZXh0LCB7IElDaGVja2JveENvbnRleHQgfSBmcm9tICcuL0NoZWNrYm94Q29udGV4dCc7XG5pbXBvcnQgQm94IGZyb20gJy4vY29tcG9uZW50cy9Cb3gnO1xuaW1wb3J0IHsgZ2VuZXJhdGVSYW5kb21OYW1lIH0gZnJvbSAnLi4vLi4vdXRpbC9SYW5kb21JRCc7XG5cbmludGVyZmFjZSBDaGVja2JveGVzUHJvcHMgZXh0ZW5kcyBIVE1MUHJvcHM8SFRNTERpdkVsZW1lbnQ+LCBGb3JtRWxlbWVudFByb3BzIHtcbiAgaWRQcmVmaXg/OiBzdHJpbmc7XG59XG5cbnR5cGUgQ2hlY2tib3hlc1N0YXRlID0ge1xuICBjb25kaXRpb25hbEJveGVzOiBBcnJheTxzdHJpbmc+O1xufTtcblxuY2xhc3MgQ2hlY2tib3hlcyBleHRlbmRzIFB1cmVDb21wb25lbnQ8Q2hlY2tib3hlc1Byb3BzLCBDaGVja2JveGVzU3RhdGU+IHtcbiAgcHJpdmF0ZSBib3hDb3VudCA9IDA7XG5cbiAgcHJpdmF0ZSBib3hSZWZlcmVuY2VzOiBBcnJheTxzdHJpbmc+ID0gW107XG5cbiAgcHJpdmF0ZSBib3hJZHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogQ2hlY2tib3hlc1Byb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb25kaXRpb25hbEJveGVzOiBbXSxcbiAgICB9O1xuICB9XG5cbiAgbGVhc2VSZWZlcmVuY2UgPSAoKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCByZWZlcmVuY2UgPSBnZW5lcmF0ZVJhbmRvbU5hbWUoKTtcbiAgICBpZiAodGhpcy5ib3hSZWZlcmVuY2VzLmluY2x1ZGVzKHJlZmVyZW5jZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxlYXNlUmVmZXJlbmNlKCk7XG4gICAgfVxuICAgIHRoaXMuYm94UmVmZXJlbmNlcy5wdXNoKHJlZmVyZW5jZSk7XG4gICAgcmV0dXJuIHJlZmVyZW5jZTtcbiAgfTtcblxuICB1bmxlYXNlUmVmZXJlbmNlID0gKHJlZmVyZW5jZTogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgdGhpcy5ib3hSZWZlcmVuY2VzID0gdGhpcy5ib3hSZWZlcmVuY2VzLmZpbHRlcigocmVmKSA9PiByZWYgIT09IHJlZmVyZW5jZSk7XG4gIH07XG5cbiAgc2V0Q29uZGl0aW9uYWwgPSAoYm94UmVmZXJlbmNlOiBzdHJpbmcsIGhhc0NvbmRpdGlvbmFsOiBib29sZWFuKTogdm9pZCA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSgoc3RhdGUpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRIYXNDb25kaXRpb25hbCA9IHN0YXRlLmNvbmRpdGlvbmFsQm94ZXMuaW5jbHVkZXMoYm94UmVmZXJlbmNlKTtcbiAgICAgIGlmIChjdXJyZW50SGFzQ29uZGl0aW9uYWwgJiYgaGFzQ29uZGl0aW9uYWwgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgY29uZGl0aW9uYWxCb3hlczogc3RhdGUuY29uZGl0aW9uYWxCb3hlcy5maWx0ZXIoKHJlZikgPT4gcmVmICE9PSBib3hSZWZlcmVuY2UpLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKCFjdXJyZW50SGFzQ29uZGl0aW9uYWwgJiYgaGFzQ29uZGl0aW9uYWwgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICBjb25kaXRpb25hbEJveGVzOiBbLi4uc3RhdGUuY29uZGl0aW9uYWxCb3hlcywgYm94UmVmZXJlbmNlXSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9KTtcbiAgfTtcblxuICBnZXRCb3hJZCA9IChpZDogc3RyaW5nLCByZWZlcmVuY2U6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgeyBpZFByZWZpeCB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAocmVmZXJlbmNlIGluIHRoaXMuYm94SWRzKSB7XG4gICAgICByZXR1cm4gdGhpcy5ib3hJZHNbcmVmZXJlbmNlXTtcbiAgICB9XG4gICAgdGhpcy5ib3hDb3VudCArPSAxO1xuICAgIHRoaXMuYm94SWRzW3JlZmVyZW5jZV0gPSBgJHtpZFByZWZpeCB8fCBpZH0tJHt0aGlzLmJveENvdW50fWA7XG4gICAgcmV0dXJuIHRoaXMuYm94SWRzW3JlZmVyZW5jZV07XG4gIH07XG5cbiAgcmVzZXRCb3hJZHMgPSAoKTogdm9pZCA9PiB7XG4gICAgdGhpcy5ib3hDb3VudCA9IDA7XG4gICAgdGhpcy5ib3hJZHMgPSB7fTtcbiAgfTtcblxuICBzdGF0aWMgQm94ID0gQm94O1xuXG4gIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgLi4ucmVzdCB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gKFxuICAgICAgPEZvcm1Hcm91cDxDaGVja2JveGVzUHJvcHM+IGlucHV0VHlwZT1cImNoZWNrYm94ZXNcIiB7Li4ucmVzdH0+XG4gICAgICAgIHsvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzICovfVxuICAgICAgICB7KHsgY2xhc3NOYW1lLCBuYW1lLCBpZCwgaWRQcmVmaXgsIGVycm9yLCAuLi5yZXN0UmVuZGVyUHJvcHMgfSkgPT4ge1xuICAgICAgICAgIHRoaXMucmVzZXRCb3hJZHMoKTtcbiAgICAgICAgICBjb25zdCBjb250YWluc0NvbmRpdGlvbmFsID0gdGhpcy5zdGF0ZS5jb25kaXRpb25hbEJveGVzLmxlbmd0aCA+IDA7XG4gICAgICAgICAgY29uc3QgY29udGV4dFZhbHVlOiBJQ2hlY2tib3hDb250ZXh0ID0ge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGdldEJveElkOiAocmVmZXJlbmNlKSA9PiB0aGlzLmdldEJveElkKGlkLCByZWZlcmVuY2UpLFxuICAgICAgICAgICAgc2V0Q29uZGl0aW9uYWw6IHRoaXMuc2V0Q29uZGl0aW9uYWwsXG4gICAgICAgICAgICBsZWFzZVJlZmVyZW5jZTogdGhpcy5sZWFzZVJlZmVyZW5jZSxcbiAgICAgICAgICAgIHVubGVhc2VSZWZlcmVuY2U6IHRoaXMudW5sZWFzZVJlZmVyZW5jZSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcbiAgICAgICAgICAgICAgICAnbmhzdWstY2hlY2tib3hlcycsXG4gICAgICAgICAgICAgICAgeyAnbmhzdWstY2hlY2tib3hlcy0tY29uZGl0aW9uYWwnOiBjb250YWluc0NvbmRpdGlvbmFsIH0sXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBpZD17aWR9XG4gICAgICAgICAgICAgIHsuLi5yZXN0UmVuZGVyUHJvcHN9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxDaGVja2JveENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHRWYWx1ZX0+e2NoaWxkcmVufTwvQ2hlY2tib3hDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKTtcbiAgICAgICAgfX1cbiAgICAgIDwvRm9ybUdyb3VwPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2hlY2tib3hlcztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLE1BQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFdBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUVBLElBQUFHLFVBQUEsR0FBQUQsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFJLGdCQUFBLEdBQUFGLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBSyxJQUFBLEdBQUFILHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBTSxTQUFBLEdBQUFOLE9BQUE7QUFBeUQsSUFBQU8sU0FBQTtFQUFBQyxVQUFBO0FBQUEsU0FBQU4sdUJBQUFPLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxnQkFBQUEsR0FBQTtBQUFBLFNBQUFFLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSx5QkFBQUMsV0FBQSxXQUFBQSxXQUFBLEdBQUFHLGdCQUFBLEdBQUFELGlCQUFBLEtBQUFGLFdBQUE7QUFBQSxTQUFBYix3QkFBQVUsR0FBQSxFQUFBRyxXQUFBLFNBQUFBLFdBQUEsSUFBQUgsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsV0FBQUQsR0FBQSxRQUFBQSxHQUFBLGFBQUFPLE9BQUEsQ0FBQVAsR0FBQSx5QkFBQUEsR0FBQSx1Q0FBQUEsR0FBQSxVQUFBUSxLQUFBLEdBQUFOLHdCQUFBLENBQUFDLFdBQUEsT0FBQUssS0FBQSxJQUFBQSxLQUFBLENBQUFDLEdBQUEsQ0FBQVQsR0FBQSxZQUFBUSxLQUFBLENBQUFFLEdBQUEsQ0FBQVYsR0FBQSxTQUFBVyxNQUFBLFdBQUFDLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLEdBQUEsSUFBQWhCLEdBQUEsUUFBQWdCLEdBQUEsa0JBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQW5CLEdBQUEsRUFBQWdCLEdBQUEsU0FBQUksSUFBQSxHQUFBUixxQkFBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFmLEdBQUEsRUFBQWdCLEdBQUEsY0FBQUksSUFBQSxLQUFBQSxJQUFBLENBQUFWLEdBQUEsSUFBQVUsSUFBQSxDQUFBQyxHQUFBLEtBQUFSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSCxNQUFBLEVBQUFLLEdBQUEsRUFBQUksSUFBQSxZQUFBVCxNQUFBLENBQUFLLEdBQUEsSUFBQWhCLEdBQUEsQ0FBQWdCLEdBQUEsU0FBQUwsTUFBQSxjQUFBWCxHQUFBLE1BQUFRLEtBQUEsSUFBQUEsS0FBQSxDQUFBYSxHQUFBLENBQUFyQixHQUFBLEVBQUFXLE1BQUEsWUFBQUEsTUFBQTtBQUFBLFNBQUFXLFNBQUEsSUFBQUEsUUFBQSxHQUFBVCxNQUFBLENBQUFVLE1BQUEsR0FBQVYsTUFBQSxDQUFBVSxNQUFBLENBQUFDLElBQUEsZUFBQUMsTUFBQSxhQUFBQyxDQUFBLE1BQUFBLENBQUEsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLEVBQUFGLENBQUEsVUFBQUcsTUFBQSxHQUFBRixTQUFBLENBQUFELENBQUEsWUFBQVYsR0FBQSxJQUFBYSxNQUFBLFFBQUFoQixNQUFBLENBQUFJLFNBQUEsQ0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFVLE1BQUEsRUFBQWIsR0FBQSxLQUFBUyxNQUFBLENBQUFULEdBQUEsSUFBQWEsTUFBQSxDQUFBYixHQUFBLGdCQUFBUyxNQUFBLFlBQUFILFFBQUEsQ0FBQVEsS0FBQSxPQUFBSCxTQUFBO0FBQUEsU0FBQUkseUJBQUFGLE1BQUEsRUFBQUcsUUFBQSxRQUFBSCxNQUFBLHlCQUFBSixNQUFBLEdBQUFRLDZCQUFBLENBQUFKLE1BQUEsRUFBQUcsUUFBQSxPQUFBaEIsR0FBQSxFQUFBVSxDQUFBLE1BQUFiLE1BQUEsQ0FBQXFCLHFCQUFBLFFBQUFDLGdCQUFBLEdBQUF0QixNQUFBLENBQUFxQixxQkFBQSxDQUFBTCxNQUFBLFFBQUFILENBQUEsTUFBQUEsQ0FBQSxHQUFBUyxnQkFBQSxDQUFBUCxNQUFBLEVBQUFGLENBQUEsTUFBQVYsR0FBQSxHQUFBbUIsZ0JBQUEsQ0FBQVQsQ0FBQSxPQUFBTSxRQUFBLENBQUFJLE9BQUEsQ0FBQXBCLEdBQUEsdUJBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBb0Isb0JBQUEsQ0FBQWxCLElBQUEsQ0FBQVUsTUFBQSxFQUFBYixHQUFBLGFBQUFTLE1BQUEsQ0FBQVQsR0FBQSxJQUFBYSxNQUFBLENBQUFiLEdBQUEsY0FBQVMsTUFBQTtBQUFBLFNBQUFRLDhCQUFBSixNQUFBLEVBQUFHLFFBQUEsUUFBQUgsTUFBQSx5QkFBQUosTUFBQSxXQUFBYSxVQUFBLEdBQUF6QixNQUFBLENBQUEwQixJQUFBLENBQUFWLE1BQUEsT0FBQWIsR0FBQSxFQUFBVSxDQUFBLE9BQUFBLENBQUEsTUFBQUEsQ0FBQSxHQUFBWSxVQUFBLENBQUFWLE1BQUEsRUFBQUYsQ0FBQSxNQUFBVixHQUFBLEdBQUFzQixVQUFBLENBQUFaLENBQUEsT0FBQU0sUUFBQSxDQUFBSSxPQUFBLENBQUFwQixHQUFBLGtCQUFBUyxNQUFBLENBQUFULEdBQUEsSUFBQWEsTUFBQSxDQUFBYixHQUFBLFlBQUFTLE1BQUE7QUFBQSxTQUFBZSxtQkFBQUMsR0FBQSxXQUFBQyxrQkFBQSxDQUFBRCxHQUFBLEtBQUFFLGdCQUFBLENBQUFGLEdBQUEsS0FBQUcsMkJBQUEsQ0FBQUgsR0FBQSxLQUFBSSxrQkFBQTtBQUFBLFNBQUFBLG1CQUFBLGNBQUFDLFNBQUE7QUFBQSxTQUFBRiw0QkFBQUcsQ0FBQSxFQUFBQyxNQUFBLFNBQUFELENBQUEscUJBQUFBLENBQUEsc0JBQUFFLGlCQUFBLENBQUFGLENBQUEsRUFBQUMsTUFBQSxPQUFBRSxDQUFBLEdBQUFyQyxNQUFBLENBQUFJLFNBQUEsQ0FBQWtDLFFBQUEsQ0FBQWhDLElBQUEsQ0FBQTRCLENBQUEsRUFBQUssS0FBQSxhQUFBRixDQUFBLGlCQUFBSCxDQUFBLENBQUFNLFdBQUEsRUFBQUgsQ0FBQSxHQUFBSCxDQUFBLENBQUFNLFdBQUEsQ0FBQUMsSUFBQSxNQUFBSixDQUFBLGNBQUFBLENBQUEsbUJBQUFLLEtBQUEsQ0FBQUMsSUFBQSxDQUFBVCxDQUFBLE9BQUFHLENBQUEsK0RBQUFPLElBQUEsQ0FBQVAsQ0FBQSxVQUFBRCxpQkFBQSxDQUFBRixDQUFBLEVBQUFDLE1BQUE7QUFBQSxTQUFBTCxpQkFBQWUsSUFBQSxlQUFBQyxNQUFBLG9CQUFBRCxJQUFBLENBQUFDLE1BQUEsQ0FBQUMsUUFBQSxhQUFBRixJQUFBLCtCQUFBSCxLQUFBLENBQUFDLElBQUEsQ0FBQUUsSUFBQTtBQUFBLFNBQUFoQixtQkFBQUQsR0FBQSxRQUFBYyxLQUFBLENBQUFNLE9BQUEsQ0FBQXBCLEdBQUEsVUFBQVEsaUJBQUEsQ0FBQVIsR0FBQTtBQUFBLFNBQUFRLGtCQUFBUixHQUFBLEVBQUFxQixHQUFBLFFBQUFBLEdBQUEsWUFBQUEsR0FBQSxHQUFBckIsR0FBQSxDQUFBYixNQUFBLEVBQUFrQyxHQUFBLEdBQUFyQixHQUFBLENBQUFiLE1BQUEsV0FBQUYsQ0FBQSxNQUFBcUMsSUFBQSxPQUFBUixLQUFBLENBQUFPLEdBQUEsR0FBQXBDLENBQUEsR0FBQW9DLEdBQUEsRUFBQXBDLENBQUEsSUFBQXFDLElBQUEsQ0FBQXJDLENBQUEsSUFBQWUsR0FBQSxDQUFBZixDQUFBLFVBQUFxQyxJQUFBO0FBQUEsU0FBQUMsUUFBQUMsTUFBQSxFQUFBQyxjQUFBLFFBQUEzQixJQUFBLEdBQUExQixNQUFBLENBQUEwQixJQUFBLENBQUEwQixNQUFBLE9BQUFwRCxNQUFBLENBQUFxQixxQkFBQSxRQUFBaUMsT0FBQSxHQUFBdEQsTUFBQSxDQUFBcUIscUJBQUEsQ0FBQStCLE1BQUEsR0FBQUMsY0FBQSxLQUFBQyxPQUFBLEdBQUFBLE9BQUEsQ0FBQUMsTUFBQSxXQUFBQyxHQUFBLFdBQUF4RCxNQUFBLENBQUFFLHdCQUFBLENBQUFrRCxNQUFBLEVBQUFJLEdBQUEsRUFBQUMsVUFBQSxPQUFBL0IsSUFBQSxDQUFBZ0MsSUFBQSxDQUFBekMsS0FBQSxDQUFBUyxJQUFBLEVBQUE0QixPQUFBLFlBQUE1QixJQUFBO0FBQUEsU0FBQWlDLGNBQUEvQyxNQUFBLGFBQUFDLENBQUEsTUFBQUEsQ0FBQSxHQUFBQyxTQUFBLENBQUFDLE1BQUEsRUFBQUYsQ0FBQSxVQUFBRyxNQUFBLFdBQUFGLFNBQUEsQ0FBQUQsQ0FBQSxJQUFBQyxTQUFBLENBQUFELENBQUEsUUFBQUEsQ0FBQSxPQUFBc0MsT0FBQSxDQUFBbkQsTUFBQSxDQUFBZ0IsTUFBQSxPQUFBNEMsT0FBQSxXQUFBekQsR0FBQSxJQUFBMEQsZUFBQSxDQUFBakQsTUFBQSxFQUFBVCxHQUFBLEVBQUFhLE1BQUEsQ0FBQWIsR0FBQSxTQUFBSCxNQUFBLENBQUE4RCx5QkFBQSxHQUFBOUQsTUFBQSxDQUFBK0QsZ0JBQUEsQ0FBQW5ELE1BQUEsRUFBQVosTUFBQSxDQUFBOEQseUJBQUEsQ0FBQTlDLE1BQUEsS0FBQW1DLE9BQUEsQ0FBQW5ELE1BQUEsQ0FBQWdCLE1BQUEsR0FBQTRDLE9BQUEsV0FBQXpELEdBQUEsSUFBQUgsTUFBQSxDQUFBQyxjQUFBLENBQUFXLE1BQUEsRUFBQVQsR0FBQSxFQUFBSCxNQUFBLENBQUFFLHdCQUFBLENBQUFjLE1BQUEsRUFBQWIsR0FBQSxpQkFBQVMsTUFBQTtBQUFBLFNBQUFpRCxnQkFBQTFFLEdBQUEsRUFBQWdCLEdBQUEsRUFBQTZELEtBQUEsSUFBQTdELEdBQUEsR0FBQThELGNBQUEsQ0FBQTlELEdBQUEsT0FBQUEsR0FBQSxJQUFBaEIsR0FBQSxJQUFBYSxNQUFBLENBQUFDLGNBQUEsQ0FBQWQsR0FBQSxFQUFBZ0IsR0FBQSxJQUFBNkQsS0FBQSxFQUFBQSxLQUFBLEVBQUFQLFVBQUEsUUFBQVMsWUFBQSxRQUFBQyxRQUFBLG9CQUFBaEYsR0FBQSxDQUFBZ0IsR0FBQSxJQUFBNkQsS0FBQSxXQUFBN0UsR0FBQTtBQUFBLFNBQUFpRixnQkFBQUMsUUFBQSxFQUFBQyxXQUFBLFVBQUFELFFBQUEsWUFBQUMsV0FBQSxlQUFBckMsU0FBQTtBQUFBLFNBQUFzQyxrQkFBQTNELE1BQUEsRUFBQTRELEtBQUEsYUFBQTNELENBQUEsTUFBQUEsQ0FBQSxHQUFBMkQsS0FBQSxDQUFBekQsTUFBQSxFQUFBRixDQUFBLFVBQUE0RCxVQUFBLEdBQUFELEtBQUEsQ0FBQTNELENBQUEsR0FBQTRELFVBQUEsQ0FBQWhCLFVBQUEsR0FBQWdCLFVBQUEsQ0FBQWhCLFVBQUEsV0FBQWdCLFVBQUEsQ0FBQVAsWUFBQSx3QkFBQU8sVUFBQSxFQUFBQSxVQUFBLENBQUFOLFFBQUEsU0FBQW5FLE1BQUEsQ0FBQUMsY0FBQSxDQUFBVyxNQUFBLEVBQUFxRCxjQUFBLENBQUFRLFVBQUEsQ0FBQXRFLEdBQUEsR0FBQXNFLFVBQUE7QUFBQSxTQUFBQyxhQUFBSixXQUFBLEVBQUFLLFVBQUEsRUFBQUMsV0FBQSxRQUFBRCxVQUFBLEVBQUFKLGlCQUFBLENBQUFELFdBQUEsQ0FBQWxFLFNBQUEsRUFBQXVFLFVBQUEsT0FBQUMsV0FBQSxFQUFBTCxpQkFBQSxDQUFBRCxXQUFBLEVBQUFNLFdBQUEsR0FBQTVFLE1BQUEsQ0FBQUMsY0FBQSxDQUFBcUUsV0FBQSxpQkFBQUgsUUFBQSxtQkFBQUcsV0FBQTtBQUFBLFNBQUFMLGVBQUFZLEdBQUEsUUFBQTFFLEdBQUEsR0FBQTJFLFlBQUEsQ0FBQUQsR0FBQSxvQkFBQW5GLE9BQUEsQ0FBQVMsR0FBQSxpQkFBQUEsR0FBQSxHQUFBNEUsTUFBQSxDQUFBNUUsR0FBQTtBQUFBLFNBQUEyRSxhQUFBRSxLQUFBLEVBQUFDLElBQUEsUUFBQXZGLE9BQUEsQ0FBQXNGLEtBQUEsa0JBQUFBLEtBQUEsa0JBQUFBLEtBQUEsTUFBQUUsSUFBQSxHQUFBRixLQUFBLENBQUFsQyxNQUFBLENBQUFxQyxXQUFBLE9BQUFELElBQUEsS0FBQUUsU0FBQSxRQUFBQyxHQUFBLEdBQUFILElBQUEsQ0FBQTVFLElBQUEsQ0FBQTBFLEtBQUEsRUFBQUMsSUFBQSxvQkFBQXZGLE9BQUEsQ0FBQTJGLEdBQUEsdUJBQUFBLEdBQUEsWUFBQXBELFNBQUEsNERBQUFnRCxJQUFBLGdCQUFBRixNQUFBLEdBQUFPLE1BQUEsRUFBQU4sS0FBQTtBQUFBLFNBQUFPLFVBQUFDLFFBQUEsRUFBQUMsVUFBQSxlQUFBQSxVQUFBLG1CQUFBQSxVQUFBLHVCQUFBeEQsU0FBQSwwREFBQXVELFFBQUEsQ0FBQXBGLFNBQUEsR0FBQUosTUFBQSxDQUFBMEYsTUFBQSxDQUFBRCxVQUFBLElBQUFBLFVBQUEsQ0FBQXJGLFNBQUEsSUFBQW9DLFdBQUEsSUFBQXdCLEtBQUEsRUFBQXdCLFFBQUEsRUFBQXJCLFFBQUEsUUFBQUQsWUFBQSxhQUFBbEUsTUFBQSxDQUFBQyxjQUFBLENBQUF1RixRQUFBLGlCQUFBckIsUUFBQSxnQkFBQXNCLFVBQUEsRUFBQUUsZUFBQSxDQUFBSCxRQUFBLEVBQUFDLFVBQUE7QUFBQSxTQUFBRSxnQkFBQXpELENBQUEsRUFBQTBELENBQUEsSUFBQUQsZUFBQSxHQUFBM0YsTUFBQSxDQUFBNkYsY0FBQSxHQUFBN0YsTUFBQSxDQUFBNkYsY0FBQSxDQUFBbEYsSUFBQSxjQUFBZ0YsZ0JBQUF6RCxDQUFBLEVBQUEwRCxDQUFBLElBQUExRCxDQUFBLENBQUE0RCxTQUFBLEdBQUFGLENBQUEsU0FBQTFELENBQUEsWUFBQXlELGVBQUEsQ0FBQXpELENBQUEsRUFBQTBELENBQUE7QUFBQSxTQUFBRyxhQUFBQyxPQUFBLFFBQUFDLHlCQUFBLEdBQUFDLHlCQUFBLG9CQUFBQyxxQkFBQSxRQUFBQyxLQUFBLEdBQUFDLGVBQUEsQ0FBQUwsT0FBQSxHQUFBTSxNQUFBLE1BQUFMLHlCQUFBLFFBQUFNLFNBQUEsR0FBQUYsZUFBQSxPQUFBN0QsV0FBQSxFQUFBOEQsTUFBQSxHQUFBRSxPQUFBLENBQUFDLFNBQUEsQ0FBQUwsS0FBQSxFQUFBdEYsU0FBQSxFQUFBeUYsU0FBQSxZQUFBRCxNQUFBLEdBQUFGLEtBQUEsQ0FBQW5GLEtBQUEsT0FBQUgsU0FBQSxZQUFBNEYsMEJBQUEsT0FBQUosTUFBQTtBQUFBLFNBQUFJLDJCQUFBQyxJQUFBLEVBQUFyRyxJQUFBLFFBQUFBLElBQUEsS0FBQVosT0FBQSxDQUFBWSxJQUFBLHlCQUFBQSxJQUFBLDJCQUFBQSxJQUFBLGFBQUFBLElBQUEseUJBQUEyQixTQUFBLHVFQUFBMkUsc0JBQUEsQ0FBQUQsSUFBQTtBQUFBLFNBQUFDLHVCQUFBRCxJQUFBLFFBQUFBLElBQUEseUJBQUFFLGNBQUEsd0VBQUFGLElBQUE7QUFBQSxTQUFBVCwwQkFBQSxlQUFBTSxPQUFBLHFCQUFBQSxPQUFBLENBQUFDLFNBQUEsb0JBQUFELE9BQUEsQ0FBQUMsU0FBQSxDQUFBSyxJQUFBLDJCQUFBQyxLQUFBLG9DQUFBQyxPQUFBLENBQUE1RyxTQUFBLENBQUE2RyxPQUFBLENBQUEzRyxJQUFBLENBQUFrRyxPQUFBLENBQUFDLFNBQUEsQ0FBQU8sT0FBQSw4Q0FBQUUsQ0FBQTtBQUFBLFNBQUFiLGdCQUFBbkUsQ0FBQSxJQUFBbUUsZUFBQSxHQUFBckcsTUFBQSxDQUFBNkYsY0FBQSxHQUFBN0YsTUFBQSxDQUFBbUgsY0FBQSxDQUFBeEcsSUFBQSxjQUFBMEYsZ0JBQUFuRSxDQUFBLFdBQUFBLENBQUEsQ0FBQTRELFNBQUEsSUFBQTlGLE1BQUEsQ0FBQW1ILGNBQUEsQ0FBQWpGLENBQUEsYUFBQW1FLGVBQUEsQ0FBQW5FLENBQUE7QUFBQSxJQVVuRGtGLFVBQVUsMEJBQUFDLGNBQUE7RUFBQTlCLFNBQUEsQ0FBQTZCLFVBQUEsRUFBQUMsY0FBQTtFQUFBLElBQUFDLE1BQUEsR0FBQXZCLFlBQUEsQ0FBQXFCLFVBQUE7RUFPZCxTQUFBQSxXQUFZNUMsS0FBc0IsRUFBRTtJQUFBLElBQUErQyxLQUFBO0lBQUFuRCxlQUFBLE9BQUFnRCxVQUFBO0lBQ2xDRyxLQUFBLEdBQUFELE1BQUEsQ0FBQWhILElBQUEsT0FBTWtFLEtBQUs7SUFBRStDLEtBQUEsQ0FQUEMsUUFBUSxHQUFHLENBQUM7SUFBQUQsS0FBQSxDQUVaRSxhQUFhLEdBQWtCLEVBQUU7SUFBQUYsS0FBQSxDQUVqQ0csTUFBTSxHQUEyQixDQUFDLENBQUM7SUFBQUgsS0FBQSxDQVMzQ0ksY0FBYyxHQUFHLFlBQWM7TUFDN0IsSUFBTUMsU0FBUyxHQUFHLElBQUFDLDRCQUFrQixHQUFFO01BQ3RDLElBQUlOLEtBQUEsQ0FBS0UsYUFBYSxDQUFDSyxRQUFRLENBQUNGLFNBQVMsQ0FBQyxFQUFFO1FBQzFDLE9BQU9MLEtBQUEsQ0FBS0ksY0FBYyxFQUFFO01BQzlCO01BQ0FKLEtBQUEsQ0FBS0UsYUFBYSxDQUFDL0QsSUFBSSxDQUFDa0UsU0FBUyxDQUFDO01BQ2xDLE9BQU9BLFNBQVM7SUFDbEIsQ0FBQztJQUFBTCxLQUFBLENBRURRLGdCQUFnQixHQUFHLFVBQUNILFNBQWlCLEVBQVc7TUFDOUNMLEtBQUEsQ0FBS0UsYUFBYSxHQUFHRixLQUFBLENBQUtFLGFBQWEsQ0FBQ2xFLE1BQU0sQ0FBQyxVQUFDeUUsR0FBRztRQUFBLE9BQUtBLEdBQUcsS0FBS0osU0FBUztNQUFBLEVBQUM7SUFDNUUsQ0FBQztJQUFBTCxLQUFBLENBRURVLGNBQWMsR0FBRyxVQUFDQyxZQUFvQixFQUFFQyxjQUF1QixFQUFXO01BQ3hFWixLQUFBLENBQUthLFFBQVEsQ0FBQyxVQUFDQyxLQUFLLEVBQUs7UUFDdkIsSUFBTUMscUJBQXFCLEdBQUdELEtBQUssQ0FBQ0UsZ0JBQWdCLENBQUNULFFBQVEsQ0FBQ0ksWUFBWSxDQUFDO1FBQzNFLElBQUlJLHFCQUFxQixJQUFJSCxjQUFjLEtBQUssS0FBSyxFQUFFO1VBQ3JELE9BQUF4RSxhQUFBLENBQUFBLGFBQUEsS0FDSzBFLEtBQUs7WUFDUkUsZ0JBQWdCLEVBQUVGLEtBQUssQ0FBQ0UsZ0JBQWdCLENBQUNoRixNQUFNLENBQUMsVUFBQ3lFLEdBQUc7Y0FBQSxPQUFLQSxHQUFHLEtBQUtFLFlBQVk7WUFBQTtVQUFDO1FBRWxGO1FBQ0EsSUFBSSxDQUFDSSxxQkFBcUIsSUFBSUgsY0FBYyxLQUFLLElBQUksRUFBRTtVQUNyRCxPQUFBeEUsYUFBQSxDQUFBQSxhQUFBLEtBQ0swRSxLQUFLO1lBQ1JFLGdCQUFnQixLQUFBQyxNQUFBLENBQUE3RyxrQkFBQSxDQUFNMEcsS0FBSyxDQUFDRSxnQkFBZ0IsSUFBRUwsWUFBWTtVQUFDO1FBRS9EO1FBQ0EsT0FBT0csS0FBSztNQUNkLENBQUMsQ0FBQztJQUNKLENBQUM7SUFBQWQsS0FBQSxDQUVEa0IsUUFBUSxHQUFHLFVBQUNDLEVBQVUsRUFBRWQsU0FBaUIsRUFBYTtNQUNwRCxJQUFRZSxRQUFRLEdBQUtwQixLQUFBLENBQUsvQyxLQUFLLENBQXZCbUUsUUFBUTtNQUNoQixJQUFJZixTQUFTLElBQUlMLEtBQUEsQ0FBS0csTUFBTSxFQUFFO1FBQzVCLE9BQU9ILEtBQUEsQ0FBS0csTUFBTSxDQUFDRSxTQUFTLENBQUM7TUFDL0I7TUFDQUwsS0FBQSxDQUFLQyxRQUFRLElBQUksQ0FBQztNQUNsQkQsS0FBQSxDQUFLRyxNQUFNLENBQUNFLFNBQVMsQ0FBQyxNQUFBWSxNQUFBLENBQU1HLFFBQVEsSUFBSUQsRUFBRSxPQUFBRixNQUFBLENBQUlqQixLQUFBLENBQUtDLFFBQVEsQ0FBRTtNQUM3RCxPQUFPRCxLQUFBLENBQUtHLE1BQU0sQ0FBQ0UsU0FBUyxDQUFDO0lBQy9CLENBQUM7SUFBQUwsS0FBQSxDQUVEcUIsV0FBVyxHQUFHLFlBQVk7TUFDeEJyQixLQUFBLENBQUtDLFFBQVEsR0FBRyxDQUFDO01BQ2pCRCxLQUFBLENBQUtHLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDbEIsQ0FBQztJQWxEQ0gsS0FBQSxDQUFLYyxLQUFLLEdBQUc7TUFDWEUsZ0JBQWdCLEVBQUU7SUFDcEIsQ0FBQztJQUFDLE9BQUFoQixLQUFBO0VBQ0o7RUFBQzdDLFlBQUEsQ0FBQTBDLFVBQUE7SUFBQWpILEdBQUE7SUFBQTZELEtBQUEsRUFtREQsU0FBQTZFLE9BQUEsRUFBc0I7TUFBQSxJQUFBQyxNQUFBO01BQ3BCLElBQUFDLFdBQUEsR0FBOEIsSUFBSSxDQUFDdkUsS0FBSztRQUFoQ3dFLFFBQVEsR0FBQUQsV0FBQSxDQUFSQyxRQUFRO1FBQUtDLElBQUksR0FBQS9ILHdCQUFBLENBQUE2SCxXQUFBLEVBQUE5SixTQUFBO01BQ3pCLG9CQUNFVCxNQUFBLFlBQUEwSyxhQUFBLENBQUNySyxVQUFBLFdBQVMsRUFBQTRCLFFBQUE7UUFBa0IwSSxTQUFTLEVBQUM7TUFBWSxHQUFLRixJQUFJLEdBRXhELFVBQUFHLElBQUEsRUFBa0U7UUFBQSxJQUEvREMsU0FBUyxHQUFBRCxJQUFBLENBQVRDLFNBQVM7VUFBRTVHLElBQUksR0FBQTJHLElBQUEsQ0FBSjNHLElBQUk7VUFBRWlHLEVBQUUsR0FBQVUsSUFBQSxDQUFGVixFQUFFO1VBQUVDLFFBQVEsR0FBQVMsSUFBQSxDQUFSVCxRQUFRO1VBQUVXLEtBQUssR0FBQUYsSUFBQSxDQUFMRSxLQUFLO1VBQUtDLGVBQWUsR0FBQXJJLHdCQUFBLENBQUFrSSxJQUFBLEVBQUFsSyxVQUFBO1FBQzFENEosTUFBSSxDQUFDRixXQUFXLEVBQUU7UUFDbEIsSUFBTVksbUJBQW1CLEdBQUdWLE1BQUksQ0FBQ1QsS0FBSyxDQUFDRSxnQkFBZ0IsQ0FBQ3hILE1BQU0sR0FBRyxDQUFDO1FBQ2xFLElBQU0wSSxZQUE4QixHQUFHO1VBQ3JDaEgsSUFBSSxFQUFKQSxJQUFJO1VBQ0pnRyxRQUFRLEVBQUUsU0FBQUEsU0FBQ2IsU0FBUztZQUFBLE9BQUtrQixNQUFJLENBQUNMLFFBQVEsQ0FBQ0MsRUFBRSxFQUFFZCxTQUFTLENBQUM7VUFBQTtVQUNyREssY0FBYyxFQUFFYSxNQUFJLENBQUNiLGNBQWM7VUFDbkNOLGNBQWMsRUFBRW1CLE1BQUksQ0FBQ25CLGNBQWM7VUFDbkNJLGdCQUFnQixFQUFFZSxNQUFJLENBQUNmO1FBQ3pCLENBQUM7UUFDRCxvQkFDRXZKLE1BQUEsWUFBQTBLLGFBQUEsUUFBQXpJLFFBQUE7VUFDRTRJLFNBQVMsRUFBRSxJQUFBSyxzQkFBVSxFQUNuQixrQkFBa0IsRUFDbEI7WUFBRSwrQkFBK0IsRUFBRUY7VUFBb0IsQ0FBQyxFQUN4REgsU0FBUyxDQUNUO1VBQ0ZYLEVBQUUsRUFBRUE7UUFBRyxHQUNIYSxlQUFlLGdCQUVuQi9LLE1BQUEsWUFBQTBLLGFBQUEsQ0FBQ3BLLGdCQUFBLFdBQWUsQ0FBQzZLLFFBQVE7VUFBQzNGLEtBQUssRUFBRXlGO1FBQWEsR0FBRVQsUUFBUSxDQUE0QixDQUNoRjtNQUVWLENBQUMsQ0FDUztJQUVoQjtFQUFDO0VBQUEsT0FBQTVCLFVBQUE7QUFBQSxFQTlGc0J3QyxvQkFBYTtBQUFoQ3hDLFVBQVUsQ0E2RFB5QyxHQUFHLEdBQUdBLGVBQUc7QUFBQSxJQUFBQyxRQUFBLEdBb0NIMUMsVUFBVTtBQUFBMkMsT0FBQSxjQUFBRCxRQUFBIn0=